{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, PLATFORM_ID, Injectable, Inject, Optional, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Subject, of, timer, combineLatest, Observable } from 'rxjs';\nimport { take, map, tap, startWith, switchMap, shareReplay } from 'rxjs/operators';\n\nfunction LoadingBarComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.diameter)(\"height\", ctx_r2.diameter);\n  }\n}\n\nfunction LoadingBarComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 5);\n  }\n\n  if (rf & 2) {\n    const progress_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"background\", ctx_r3.color)(\"height\", ctx_r3.height)(\"width\", progress_r1 + \"%\");\n  }\n}\n\nfunction LoadingBarComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, LoadingBarComponent_ng_container_0_div_1_Template, 2, 4, \"div\", 1);\n    i0.ɵɵtemplate(2, LoadingBarComponent_ng_container_0_div_2_Template, 1, 6, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.includeSpinner);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.includeBar);\n  }\n}\n\nclass LoadingBarState {\n  constructor(config = {}) {\n    this.config = config;\n    this.state = {\n      action: null,\n      value: 0,\n      initialValue: 0\n    };\n    this.requests = null;\n    this.disabled = false;\n    this.stream$ = new Subject();\n    this._value$ = null;\n\n    this.timer$ = s => {\n      let state$ = of(s);\n\n      switch (s.action) {\n        case 'start':\n        case 'increment':\n        case 'set':\n          {\n            if (s.action === 'start' && this.config.latencyThreshold === 0 && s.value === 0) {\n              s.value = s.initialValue;\n            }\n\n            if (this.requests > 0) {\n              state$ = timer(this.config.latencyThreshold, 250).pipe(map(t => Object.assign(Object.assign({}, s), {\n                value: t === 0 ? this.state.value || s.initialValue : this._increment()\n              })));\n            }\n\n            break;\n          }\n\n        case 'complete':\n        case 'stop':\n          {\n            // Attempt to aggregate any start/complete calls within 500ms:\n            state$ = s.value === 0 ? of(Object.assign({}, s)) : timer(0, 500).pipe(take(2), map(t => ({\n              value: t === 0 ? 100 : 0\n            })));\n            break;\n          }\n      }\n\n      return state$.pipe(map(next => Object.assign(Object.assign({}, next), {\n        action: 'set'\n      })), tap(next => this.next(next, false)));\n    };\n\n    this.config = Object.assign({\n      latencyThreshold: 0\n    }, config);\n  }\n\n  get value$() {\n    if (this._value$) {\n      return this._value$;\n    }\n\n    return this._value$ = this.stream$.pipe(startWith(this.state), switchMap(s => this.timer$(s)), shareReplay(), map(s => s.value));\n  }\n\n  start(initialValue = 2) {\n    if (this.disabled) {\n      return;\n    }\n\n    this.next({\n      action: 'start',\n      initialValue\n    });\n  }\n\n  stop() {\n    this.next({\n      action: 'stop'\n    });\n  }\n\n  complete() {\n    this.next({\n      action: 'complete'\n    });\n  }\n\n  disable() {\n    this.disabled = true;\n  }\n\n  set(value) {\n    this.next({\n      action: 'set',\n      value\n    });\n  }\n\n  increment(value = 0) {\n    this.next({\n      action: 'increment',\n      value\n    });\n  }\n\n  next(state, emitEvent = true) {\n    switch (state.action) {\n      case 'start':\n        this.requests = (this.requests || 0) + 1;\n        break;\n\n      case 'complete':\n        this.requests = (this.requests || 1) - 1;\n\n        if (this.requests > 0) {\n          return;\n        }\n\n        break;\n\n      case 'stop':\n        this.requests = 0;\n        break;\n\n      case 'increment':\n        state.value = this._increment(state.value);\n        break;\n    }\n\n    this.state = Object.assign(Object.assign(Object.assign({}, this.state), {\n      action: null\n    }), state);\n\n    if (emitEvent) {\n      this.stream$.next(this.state);\n    }\n  }\n\n  _increment(rnd = 0) {\n    const stat = this.state.value;\n\n    if (stat >= 99) {\n      rnd = 0;\n    }\n\n    if (rnd === 0) {\n      if (stat >= 0 && stat < 25) {\n        // Start out between 3 - 6% increments\n        rnd = Math.random() * (5 - 3 + 1) + 3;\n      } else if (stat >= 25 && stat < 65) {\n        // increment between 0 - 3%\n        rnd = Math.random() * 3;\n      } else if (stat >= 65 && stat < 90) {\n        // increment between 0 - 2%\n        rnd = Math.random() * 2;\n      } else if (stat >= 90 && stat < 99) {\n        // finally, increment it .5 %\n        rnd = 0.5;\n      } else {\n        // after 99%, don't increment:\n        rnd = 0;\n      }\n    }\n\n    return rnd + stat;\n  }\n\n}\n\nconst LOADING_BAR_CONFIG = new InjectionToken('LOADING_BAR_CONFIG');\n\nclass LoadingBarService {\n  constructor(platformId, config = {}, zone) {\n    this.platformId = platformId;\n    this.config = config;\n    this.zone = zone;\n    this.refs = {};\n    this.streams$ = new Subject();\n    this.value$ = this.streams$.pipe(startWith(null), switchMap(() => combineLatest(Object.keys(this.refs).map(s => this.refs[s].value$))), runInZone(this.zone), map(v => Math.max(0, ...v)));\n  }\n  /** @deprecated use `value$` instead. */\n\n\n  get progress$() {\n    return this.value$;\n  }\n  /** @deprecated use `useRef` instead. */\n\n\n  start(initialValue = 2) {\n    this.useRef().start(initialValue);\n  }\n  /** @deprecated use `useRef` instead. */\n\n\n  set(value) {\n    this.useRef().set(value);\n  }\n  /** @deprecated use `useRef` instead. */\n\n\n  increment(value) {\n    this.useRef().increment(value);\n  }\n  /** @deprecated use `useRef` instead. */\n\n\n  complete() {\n    this.useRef().complete();\n  }\n  /** @deprecated use `useRef` instead. */\n\n\n  stop() {\n    this.useRef().stop();\n  }\n\n  useRef(id = 'default') {\n    if (!this.refs[id]) {\n      this.refs[id] = new LoadingBarState(this.config);\n      this.streams$.next();\n\n      if (!isPlatformBrowser(this.platformId)) {\n        this.refs[id].disable();\n      }\n    }\n\n    return this.refs[id];\n  }\n\n}\n\nLoadingBarService.ɵfac = function LoadingBarService_Factory(t) {\n  return new (t || LoadingBarService)(i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(LOADING_BAR_CONFIG, 8), i0.ɵɵinject(i0.NgZone, 8));\n};\n\nLoadingBarService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: LoadingBarService,\n  factory: LoadingBarService.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoadingBarService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: Object,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [LOADING_BAR_CONFIG]\n      }]\n    }, {\n      type: i0.NgZone,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, null);\n})(); // https://stackoverflow.com/a/57452361/1406096\n\n\nfunction runInZone(zone) {\n  if (!zone) {\n    return source => source;\n  }\n\n  return source => new Observable(observer => source.subscribe(value => zone.run(() => observer.next(value)), e => zone.run(() => observer.error(e)), () => zone.run(() => observer.complete())));\n}\n\nclass LoadingBarComponent {\n  constructor(loader) {\n    this.loader = loader;\n    this.includeSpinner = true;\n    this.includeBar = true;\n    this.fixed = true;\n    this.color = '#29d';\n  }\n\n  get value$() {\n    return this.ref ? this.loader.useRef(this.ref).value$ : this.loader.value$;\n  }\n\n}\n\nLoadingBarComponent.ɵfac = function LoadingBarComponent_Factory(t) {\n  return new (t || LoadingBarComponent)(i0.ɵɵdirectiveInject(LoadingBarService));\n};\n\nLoadingBarComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: LoadingBarComponent,\n  selectors: [[\"ngx-loading-bar\"]],\n  hostVars: 3,\n  hostBindings: function LoadingBarComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵattribute(\"fixed\", ctx.fixed);\n      i0.ɵɵstyleProp(\"color\", ctx.color);\n    }\n  },\n  inputs: {\n    includeSpinner: \"includeSpinner\",\n    includeBar: \"includeBar\",\n    fixed: \"fixed\",\n    color: \"color\",\n    value: \"value\",\n    ref: \"ref\",\n    height: \"height\",\n    diameter: \"diameter\"\n  },\n  decls: 2,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"class\", \"ngx-spinner\", 4, \"ngIf\"], [\"class\", \"ngx-bar\", 3, \"background\", \"height\", \"width\", 4, \"ngIf\"], [1, \"ngx-spinner\"], [1, \"ngx-spinner-icon\"], [1, \"ngx-bar\"]],\n  template: function LoadingBarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, LoadingBarComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.value != null ? ctx.value : i0.ɵɵpipeBind1(1, 1, ctx.value$));\n    }\n  },\n  directives: [i2.NgIf],\n  pipes: [i2.AsyncPipe],\n  styles: [\"[_nghost-%COMP%]{position:relative;display:block;pointer-events:none}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}[_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]   .ngx-spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:loading-bar-spinner .4s linear infinite;animation:loading-bar-spinner .4s linear infinite}[_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl]   [_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{right:0;left:unset}[fixed=true][_nghost-%COMP%]{z-index:10002}[fixed=true][_nghost-%COMP%]   .ngx-bar[_ngcontent-%COMP%]{position:fixed}[fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px}[dir=rtl]   [fixed=true][_nghost-%COMP%]   .ngx-spinner[_ngcontent-%COMP%]{right:10px;left:unset}@-webkit-keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\"],\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoadingBarComponent, [{\n    type: Component,\n    args: [{\n      selector: 'ngx-loading-bar',\n      template: `\n    <ng-container *ngIf=\"value != null ? value : (value$ | async) as progress\">\n      <div *ngIf=\"includeSpinner\" class=\"ngx-spinner\">\n        <div [style.width]=\"diameter\" [style.height]=\"diameter\" class=\"ngx-spinner-icon\"></div>\n      </div>\n      <div\n        *ngIf=\"includeBar\"\n        class=\"ngx-bar\"\n        [style.background]=\"color\"\n        [style.height]=\"height\"\n        [style.width]=\"progress + '%'\"\n      ></div>\n    </ng-container>\n  `,\n      preserveWhitespaces: false,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      encapsulation: ViewEncapsulation.Emulated,\n      host: {\n        '[attr.fixed]': 'fixed',\n        '[style.color]': 'color'\n      },\n      styles: [\":host{position:relative;display:block;pointer-events:none}:host .ngx-spinner{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}:host .ngx-spinner .ngx-spinner-icon{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:loading-bar-spinner .4s linear infinite;animation:loading-bar-spinner .4s linear infinite}:host .ngx-bar{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl] :host .ngx-bar{right:0;left:unset}:host[fixed=true]{z-index:10002}:host[fixed=true] .ngx-bar{position:fixed}:host[fixed=true] .ngx-spinner{position:fixed;top:10px;left:10px}[dir=rtl] :host[fixed=true] .ngx-spinner{right:10px;left:unset}@-webkit-keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: LoadingBarService\n    }];\n  }, {\n    includeSpinner: [{\n      type: Input\n    }],\n    includeBar: [{\n      type: Input\n    }],\n    fixed: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    value: [{\n      type: Input\n    }],\n    ref: [{\n      type: Input\n    }],\n    height: [{\n      type: Input\n    }],\n    diameter: [{\n      type: Input\n    }]\n  });\n})();\n\nclass LoadingBarModule {}\n\nLoadingBarModule.ɵfac = function LoadingBarModule_Factory(t) {\n  return new (t || LoadingBarModule)();\n};\n\nLoadingBarModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: LoadingBarModule\n});\nLoadingBarModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(LoadingBarModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [LoadingBarComponent],\n      exports: [LoadingBarComponent]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { LOADING_BAR_CONFIG, LoadingBarComponent, LoadingBarModule, LoadingBarService };","map":{"version":3,"sources":["C:/Users/rami/Desktop/Projet de fin d'études version finale/back-office/node_modules/@ngx-loading-bar/core/fesm2015/ngx-loading-bar-core.mjs"],"names":["i0","InjectionToken","PLATFORM_ID","Injectable","Inject","Optional","Component","ChangeDetectionStrategy","ViewEncapsulation","Input","NgModule","i2","isPlatformBrowser","CommonModule","Subject","of","timer","combineLatest","Observable","take","map","tap","startWith","switchMap","shareReplay","LoadingBarState","constructor","config","state","action","value","initialValue","requests","disabled","stream$","_value$","timer$","s","state$","latencyThreshold","pipe","t","Object","assign","_increment","next","value$","start","stop","complete","disable","set","increment","emitEvent","rnd","stat","Math","random","LOADING_BAR_CONFIG","LoadingBarService","platformId","zone","refs","streams$","keys","runInZone","v","max","progress$","useRef","id","ɵfac","NgZone","ɵprov","type","args","providedIn","decorators","undefined","source","observer","subscribe","run","e","error","LoadingBarComponent","loader","includeSpinner","includeBar","fixed","color","ref","ɵcmp","NgIf","AsyncPipe","selector","template","preserveWhitespaces","changeDetection","OnPush","encapsulation","Emulated","host","styles","height","diameter","LoadingBarModule","ɵmod","ɵinj","imports","declarations","exports"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,cAAT,EAAyBC,WAAzB,EAAsCC,UAAtC,EAAkDC,MAAlD,EAA0DC,QAA1D,EAAoEC,SAApE,EAA+EC,uBAA/E,EAAwGC,iBAAxG,EAA2HC,KAA3H,EAAkIC,QAAlI,QAAkJ,eAAlJ;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,iBAAhD;AACA,SAASC,OAAT,EAAkBC,EAAlB,EAAsBC,KAAtB,EAA6BC,aAA7B,EAA4CC,UAA5C,QAA8D,MAA9D;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,EAAyBC,SAAzB,EAAoCC,SAApC,EAA+CC,WAA/C,QAAkE,gBAAlE;;;;AAyKoGxB,IAAAA,EAyC9F,4B;AAzC8FA,IAAAA,EA0C5F,uB;AA1C4FA,IAAAA,EA2C9F,e;;;;mBA3C8FA,E;AAAAA,IAAAA,EA0CvF,a;AA1CuFA,IAAAA,EA0CvF,iE;;;;;;AA1CuFA,IAAAA,EA4C9F,uB;;;;wBA5C8FA,E;mBAAAA,E;AAAAA,IAAAA,EA+C5F,6F;;;;;;AA/C4FA,IAAAA,EAwChG,2B;AAxCgGA,IAAAA,EAyC9F,iF;AAzC8FA,IAAAA,EA4C9F,iF;AA5C8FA,IAAAA,EAmDhG,wB;;;;mBAnDgGA,E;AAAAA,IAAAA,EAyCxF,a;AAzCwFA,IAAAA,EAyCxF,0C;AAzCwFA,IAAAA,EA6C3F,a;AA7C2FA,IAAAA,EA6C3F,sC;;;;AApNT,MAAMyB,eAAN,CAAsB;AAClBC,EAAAA,WAAW,CAACC,MAAM,GAAG,EAAV,EAAc;AACrB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,MAAM,EAAE,IADC;AAETC,MAAAA,KAAK,EAAE,CAFE;AAGTC,MAAAA,YAAY,EAAE;AAHL,KAAb;AAKA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,OAAL,GAAe,IAAIpB,OAAJ,EAAf;AACA,SAAKqB,OAAL,GAAe,IAAf;;AACA,SAAKC,MAAL,GAAeC,CAAD,IAAO;AACjB,UAAIC,MAAM,GAAGvB,EAAE,CAACsB,CAAD,CAAf;;AACA,cAAQA,CAAC,CAACR,MAAV;AACI,aAAK,OAAL;AACA,aAAK,WAAL;AACA,aAAK,KAAL;AAAY;AACR,gBAAIQ,CAAC,CAACR,MAAF,KAAa,OAAb,IAAwB,KAAKF,MAAL,CAAYY,gBAAZ,KAAiC,CAAzD,IAA8DF,CAAC,CAACP,KAAF,KAAY,CAA9E,EAAiF;AAC7EO,cAAAA,CAAC,CAACP,KAAF,GAAUO,CAAC,CAACN,YAAZ;AACH;;AACD,gBAAI,KAAKC,QAAL,GAAgB,CAApB,EAAuB;AACnBM,cAAAA,MAAM,GAAGtB,KAAK,CAAC,KAAKW,MAAL,CAAYY,gBAAb,EAA+B,GAA/B,CAAL,CAAyCC,IAAzC,CAA8CpB,GAAG,CAAEqB,CAAD,IAAQC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,CAAlB,CAAd,EAAoC;AAAEP,gBAAAA,KAAK,EAAEW,CAAC,KAAK,CAAN,GAAU,KAAKb,KAAL,CAAWE,KAAX,IAAoBO,CAAC,CAACN,YAAhC,GAA+C,KAAKa,UAAL;AAAxD,eAApC,CAAT,CAAjD,CAAT;AACH;;AACD;AACH;;AACD,aAAK,UAAL;AACA,aAAK,MAAL;AAAa;AACT;AACAN,YAAAA,MAAM,GACFD,CAAC,CAACP,KAAF,KAAY,CAAZ,GACMf,EAAE,CAAC2B,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,CAAlB,CAAD,CADR,GAEMrB,KAAK,CAAC,CAAD,EAAI,GAAJ,CAAL,CAAcwB,IAAd,CAAmBrB,IAAI,CAAC,CAAD,CAAvB,EAA4BC,GAAG,CAAEqB,CAAD,KAAQ;AAAEX,cAAAA,KAAK,EAAEW,CAAC,KAAK,CAAN,GAAU,GAAV,GAAgB;AAAzB,aAAR,CAAD,CAA/B,CAHV;AAIA;AACH;AApBL;;AAsBA,aAAOH,MAAM,CAACE,IAAP,CAAYpB,GAAG,CAAEyB,IAAD,IAAWH,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBE,IAAlB,CAAd,EAAuC;AAAEhB,QAAAA,MAAM,EAAE;AAAV,OAAvC,CAAZ,CAAf,EAAwFR,GAAG,CAAEwB,IAAD,IAAU,KAAKA,IAAL,CAAUA,IAAV,EAAgB,KAAhB,CAAX,CAA3F,CAAP;AACH,KAzBD;;AA0BA,SAAKlB,MAAL,GAAce,MAAM,CAACC,MAAP,CAAc;AAAEJ,MAAAA,gBAAgB,EAAE;AAApB,KAAd,EAAuCZ,MAAvC,CAAd;AACH;;AACS,MAANmB,MAAM,GAAG;AACT,QAAI,KAAKX,OAAT,EAAkB;AACd,aAAO,KAAKA,OAAZ;AACH;;AACD,WAAQ,KAAKA,OAAL,GAAe,KAAKD,OAAL,CAAaM,IAAb,CAAkBlB,SAAS,CAAC,KAAKM,KAAN,CAA3B,EAAyCL,SAAS,CAAEc,CAAD,IAAO,KAAKD,MAAL,CAAYC,CAAZ,CAAR,CAAlD,EAA2Eb,WAAW,EAAtF,EAA0FJ,GAAG,CAAEiB,CAAD,IAAOA,CAAC,CAACP,KAAV,CAA7F,CAAvB;AACH;;AACDiB,EAAAA,KAAK,CAAChB,YAAY,GAAG,CAAhB,EAAmB;AACpB,QAAI,KAAKE,QAAT,EAAmB;AACf;AACH;;AACD,SAAKY,IAAL,CAAU;AAAEhB,MAAAA,MAAM,EAAE,OAAV;AAAmBE,MAAAA;AAAnB,KAAV;AACH;;AACDiB,EAAAA,IAAI,GAAG;AACH,SAAKH,IAAL,CAAU;AAAEhB,MAAAA,MAAM,EAAE;AAAV,KAAV;AACH;;AACDoB,EAAAA,QAAQ,GAAG;AACP,SAAKJ,IAAL,CAAU;AAAEhB,MAAAA,MAAM,EAAE;AAAV,KAAV;AACH;;AACDqB,EAAAA,OAAO,GAAG;AACN,SAAKjB,QAAL,GAAgB,IAAhB;AACH;;AACDkB,EAAAA,GAAG,CAACrB,KAAD,EAAQ;AACP,SAAKe,IAAL,CAAU;AAAEhB,MAAAA,MAAM,EAAE,KAAV;AAAiBC,MAAAA;AAAjB,KAAV;AACH;;AACDsB,EAAAA,SAAS,CAACtB,KAAK,GAAG,CAAT,EAAY;AACjB,SAAKe,IAAL,CAAU;AAAEhB,MAAAA,MAAM,EAAE,WAAV;AAAuBC,MAAAA;AAAvB,KAAV;AACH;;AACDe,EAAAA,IAAI,CAACjB,KAAD,EAAQyB,SAAS,GAAG,IAApB,EAA0B;AAC1B,YAAQzB,KAAK,CAACC,MAAd;AACI,WAAK,OAAL;AACI,aAAKG,QAAL,GAAgB,CAAC,KAAKA,QAAL,IAAiB,CAAlB,IAAuB,CAAvC;AACA;;AACJ,WAAK,UAAL;AACI,aAAKA,QAAL,GAAgB,CAAC,KAAKA,QAAL,IAAiB,CAAlB,IAAuB,CAAvC;;AACA,YAAI,KAAKA,QAAL,GAAgB,CAApB,EAAuB;AACnB;AACH;;AACD;;AACJ,WAAK,MAAL;AACI,aAAKA,QAAL,GAAgB,CAAhB;AACA;;AACJ,WAAK,WAAL;AACIJ,QAAAA,KAAK,CAACE,KAAN,GAAc,KAAKc,UAAL,CAAgBhB,KAAK,CAACE,KAAtB,CAAd;AACA;AAfR;;AAiBA,SAAKF,KAAL,GAAac,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB,KAAKf,KAAvB,CAAd,EAA6C;AAAEC,MAAAA,MAAM,EAAE;AAAV,KAA7C,CAAd,EAA8ED,KAA9E,CAAb;;AACA,QAAIyB,SAAJ,EAAe;AACX,WAAKnB,OAAL,CAAaW,IAAb,CAAkB,KAAKjB,KAAvB;AACH;AACJ;;AACDgB,EAAAA,UAAU,CAACU,GAAG,GAAG,CAAP,EAAU;AAChB,UAAMC,IAAI,GAAG,KAAK3B,KAAL,CAAWE,KAAxB;;AACA,QAAIyB,IAAI,IAAI,EAAZ,EAAgB;AACZD,MAAAA,GAAG,GAAG,CAAN;AACH;;AACD,QAAIA,GAAG,KAAK,CAAZ,EAAe;AACX,UAAIC,IAAI,IAAI,CAAR,IAAaA,IAAI,GAAG,EAAxB,EAA4B;AACxB;AACAD,QAAAA,GAAG,GAAGE,IAAI,CAACC,MAAL,MAAiB,IAAI,CAAJ,GAAQ,CAAzB,IAA8B,CAApC;AACH,OAHD,MAIK,IAAIF,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAAzB,EAA6B;AAC9B;AACAD,QAAAA,GAAG,GAAGE,IAAI,CAACC,MAAL,KAAgB,CAAtB;AACH,OAHI,MAIA,IAAIF,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAAzB,EAA6B;AAC9B;AACAD,QAAAA,GAAG,GAAGE,IAAI,CAACC,MAAL,KAAgB,CAAtB;AACH,OAHI,MAIA,IAAIF,IAAI,IAAI,EAAR,IAAcA,IAAI,GAAG,EAAzB,EAA6B;AAC9B;AACAD,QAAAA,GAAG,GAAG,GAAN;AACH,OAHI,MAIA;AACD;AACAA,QAAAA,GAAG,GAAG,CAAN;AACH;AACJ;;AACD,WAAOA,GAAG,GAAGC,IAAb;AACH;;AAtHiB;;AAyHtB,MAAMG,kBAAkB,GAAG,IAAIzD,cAAJ,CAAmB,oBAAnB,CAA3B;;AAEA,MAAM0D,iBAAN,CAAwB;AACpBjC,EAAAA,WAAW,CAACkC,UAAD,EAAajC,MAAM,GAAG,EAAtB,EAA0BkC,IAA1B,EAAgC;AACvC,SAAKD,UAAL,GAAkBA,UAAlB;AACA,SAAKjC,MAAL,GAAcA,MAAd;AACA,SAAKkC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,QAAL,GAAgB,IAAIjD,OAAJ,EAAhB;AACA,SAAKgC,MAAL,GAAc,KAAKiB,QAAL,CAAcvB,IAAd,CAAmBlB,SAAS,CAAC,IAAD,CAA5B,EAAoCC,SAAS,CAAC,MAAMN,aAAa,CAACyB,MAAM,CAACsB,IAAP,CAAY,KAAKF,IAAjB,EAAuB1C,GAAvB,CAA4BiB,CAAD,IAAO,KAAKyB,IAAL,CAAUzB,CAAV,EAAaS,MAA/C,CAAD,CAApB,CAA7C,EAA4HmB,SAAS,CAAC,KAAKJ,IAAN,CAArI,EAAkJzC,GAAG,CAAE8C,CAAD,IAAOV,IAAI,CAACW,GAAL,CAAS,CAAT,EAAY,GAAGD,CAAf,CAAR,CAArJ,CAAd;AACH;AACD;;;AACa,MAATE,SAAS,GAAG;AACZ,WAAO,KAAKtB,MAAZ;AACH;AACD;;;AACAC,EAAAA,KAAK,CAAChB,YAAY,GAAG,CAAhB,EAAmB;AACpB,SAAKsC,MAAL,GAActB,KAAd,CAAoBhB,YAApB;AACH;AACD;;;AACAoB,EAAAA,GAAG,CAACrB,KAAD,EAAQ;AACP,SAAKuC,MAAL,GAAclB,GAAd,CAAkBrB,KAAlB;AACH;AACD;;;AACAsB,EAAAA,SAAS,CAACtB,KAAD,EAAQ;AACb,SAAKuC,MAAL,GAAcjB,SAAd,CAAwBtB,KAAxB;AACH;AACD;;;AACAmB,EAAAA,QAAQ,GAAG;AACP,SAAKoB,MAAL,GAAcpB,QAAd;AACH;AACD;;;AACAD,EAAAA,IAAI,GAAG;AACH,SAAKqB,MAAL,GAAcrB,IAAd;AACH;;AACDqB,EAAAA,MAAM,CAACC,EAAE,GAAG,SAAN,EAAiB;AACnB,QAAI,CAAC,KAAKR,IAAL,CAAUQ,EAAV,CAAL,EAAoB;AAChB,WAAKR,IAAL,CAAUQ,EAAV,IAAgB,IAAI7C,eAAJ,CAAoB,KAAKE,MAAzB,CAAhB;AACA,WAAKoC,QAAL,CAAclB,IAAd;;AACA,UAAI,CAACjC,iBAAiB,CAAC,KAAKgD,UAAN,CAAtB,EAAyC;AACrC,aAAKE,IAAL,CAAUQ,EAAV,EAAcpB,OAAd;AACH;AACJ;;AACD,WAAO,KAAKY,IAAL,CAAUQ,EAAV,CAAP;AACH;;AA1CmB;;AA4CxBX,iBAAiB,CAACY,IAAlB;AAAA,mBAA8GZ,iBAA9G,EAAoG3D,EAApG,UAAiJE,WAAjJ,GAAoGF,EAApG,UAAyK0D,kBAAzK,MAAoG1D,EAApG,UAAwNA,EAAE,CAACwE,MAA3N;AAAA;;AACAb,iBAAiB,CAACc,KAAlB,kBADoGzE,EACpG;AAAA,SAAkH2D,iBAAlH;AAAA,WAAkHA,iBAAlH;AAAA,cAAiJ;AAAjJ;;AACA;AAAA,qDAFoG3D,EAEpG,mBAA2F2D,iBAA3F,EAA0H,CAAC;AAC/Ge,IAAAA,IAAI,EAAEvE,UADyG;AAE/GwE,IAAAA,IAAI,EAAE,CAAC;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAD;AAFyG,GAAD,CAA1H,EAG4B,YAAY;AAChC,WAAO,CAAC;AAAEF,MAAAA,IAAI,EAAEhC,MAAR;AAAgBmC,MAAAA,UAAU,EAAE,CAAC;AACrBH,QAAAA,IAAI,EAAEtE,MADe;AAErBuE,QAAAA,IAAI,EAAE,CAACzE,WAAD;AAFe,OAAD;AAA5B,KAAD,EAGW;AAAEwE,MAAAA,IAAI,EAAEI,SAAR;AAAmBD,MAAAA,UAAU,EAAE,CAAC;AAClCH,QAAAA,IAAI,EAAErE;AAD4B,OAAD,EAElC;AACCqE,QAAAA,IAAI,EAAEtE,MADP;AAECuE,QAAAA,IAAI,EAAE,CAACjB,kBAAD;AAFP,OAFkC;AAA/B,KAHX,EAQW;AAAEgB,MAAAA,IAAI,EAAE1E,EAAE,CAACwE,MAAX;AAAmBK,MAAAA,UAAU,EAAE,CAAC;AAClCH,QAAAA,IAAI,EAAErE;AAD4B,OAAD;AAA/B,KARX,CAAP;AAWH,GAfL;AAAA,K,CAgBA;;;AACA,SAAS4D,SAAT,CAAmBJ,IAAnB,EAAyB;AACrB,MAAI,CAACA,IAAL,EAAW;AACP,WAAQkB,MAAD,IAAYA,MAAnB;AACH;;AACD,SAAQA,MAAD,IAAY,IAAI7D,UAAJ,CAAgB8D,QAAD,IAAcD,MAAM,CAACE,SAAP,CAAkBnD,KAAD,IAAW+B,IAAI,CAACqB,GAAL,CAAS,MAAMF,QAAQ,CAACnC,IAAT,CAAcf,KAAd,CAAf,CAA5B,EAAmEqD,CAAD,IAAOtB,IAAI,CAACqB,GAAL,CAAS,MAAMF,QAAQ,CAACI,KAAT,CAAeD,CAAf,CAAf,CAAzE,EAA4G,MAAMtB,IAAI,CAACqB,GAAL,CAAS,MAAMF,QAAQ,CAAC/B,QAAT,EAAf,CAAlH,CAA7B,CAAnB;AACH;;AAED,MAAMoC,mBAAN,CAA0B;AACtB3D,EAAAA,WAAW,CAAC4D,MAAD,EAAS;AAChB,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,KAAL,GAAa,MAAb;AACH;;AACS,MAAN5C,MAAM,GAAG;AACT,WAAO,KAAK6C,GAAL,GAAW,KAAKL,MAAL,CAAYjB,MAAZ,CAAmB,KAAKsB,GAAxB,EAA6B7C,MAAxC,GAAiD,KAAKwC,MAAL,CAAYxC,MAApE;AACH;;AAVqB;;AAY1BuC,mBAAmB,CAACd,IAApB;AAAA,mBAAgHc,mBAAhH,EAtCoGrF,EAsCpG,mBAAqJ2D,iBAArJ;AAAA;;AACA0B,mBAAmB,CAACO,IAApB,kBAvCoG5F,EAuCpG;AAAA,QAAoGqF,mBAApG;AAAA;AAAA;AAAA;AAAA;AAvCoGrF,MAAAA,EAuCpG;AAvCoGA,MAAAA,EAuCpG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvCoGA,MAAAA,EAwChG,oFADJ;AAvCoGA,MAAAA,EAuCpG;AAAA;;AAAA;AAvCoGA,MAAAA,EAwCjF,oDAxCiFA,EAwCjF,+BADnB;AAAA;AAAA;AAAA,eAashCW,EAAE,CAACkF,IAbzhC;AAAA,UAaknClF,EAAE,CAACmF,SAbrnC;AAAA;AAAA;AAAA;;AAcA;AAAA,qDArDoG9F,EAqDpG,mBAA2FqF,mBAA3F,EAA4H,CAAC;AACjHX,IAAAA,IAAI,EAAEpE,SAD2G;AAEjHqE,IAAAA,IAAI,EAAE,CAAC;AAAEoB,MAAAA,QAAQ,EAAE,iBAAZ;AAA+BC,MAAAA,QAAQ,EAAG;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAbmB;AAadC,MAAAA,mBAAmB,EAAE,KAbP;AAacC,MAAAA,eAAe,EAAE3F,uBAAuB,CAAC4F,MAbvD;AAa+DC,MAAAA,aAAa,EAAE5F,iBAAiB,CAAC6F,QAbhG;AAa0GC,MAAAA,IAAI,EAAE;AAC3G,wBAAgB,OAD2F;AAE3G,yBAAiB;AAF0F,OAbhH;AAgBIC,MAAAA,MAAM,EAAE,CAAC,g+BAAD;AAhBZ,KAAD;AAF2G,GAAD,CAA5H,EAmB4B,YAAY;AAAE,WAAO,CAAC;AAAE7B,MAAAA,IAAI,EAAEf;AAAR,KAAD,CAAP;AAAuC,GAnBjF,EAmBmG;AAAE4B,IAAAA,cAAc,EAAE,CAAC;AACtGb,MAAAA,IAAI,EAAEjE;AADgG,KAAD,CAAlB;AAEnF+E,IAAAA,UAAU,EAAE,CAAC;AACbd,MAAAA,IAAI,EAAEjE;AADO,KAAD,CAFuE;AAInFgF,IAAAA,KAAK,EAAE,CAAC;AACRf,MAAAA,IAAI,EAAEjE;AADE,KAAD,CAJ4E;AAMnFiF,IAAAA,KAAK,EAAE,CAAC;AACRhB,MAAAA,IAAI,EAAEjE;AADE,KAAD,CAN4E;AAQnFqB,IAAAA,KAAK,EAAE,CAAC;AACR4C,MAAAA,IAAI,EAAEjE;AADE,KAAD,CAR4E;AAUnFkF,IAAAA,GAAG,EAAE,CAAC;AACNjB,MAAAA,IAAI,EAAEjE;AADA,KAAD,CAV8E;AAYnF+F,IAAAA,MAAM,EAAE,CAAC;AACT9B,MAAAA,IAAI,EAAEjE;AADG,KAAD,CAZ2E;AAcnFgG,IAAAA,QAAQ,EAAE,CAAC;AACX/B,MAAAA,IAAI,EAAEjE;AADK,KAAD;AAdyE,GAnBnG;AAAA;;AAqCA,MAAMiG,gBAAN,CAAuB;;AAEvBA,gBAAgB,CAACnC,IAAjB;AAAA,mBAA6GmC,gBAA7G;AAAA;;AACAA,gBAAgB,CAACC,IAAjB,kBA7FoG3G,EA6FpG;AAAA,QAA8G0G;AAA9G;AACAA,gBAAgB,CAACE,IAAjB,kBA9FoG5G,EA8FpG;AAAA,YAA0I,CAACa,YAAD,CAA1I;AAAA;;AACA;AAAA,qDA/FoGb,EA+FpG,mBAA2F0G,gBAA3F,EAAyH,CAAC;AAC9GhC,IAAAA,IAAI,EAAEhE,QADwG;AAE9GiE,IAAAA,IAAI,EAAE,CAAC;AACCkC,MAAAA,OAAO,EAAE,CAAChG,YAAD,CADV;AAECiG,MAAAA,YAAY,EAAE,CAACzB,mBAAD,CAFf;AAGC0B,MAAAA,OAAO,EAAE,CAAC1B,mBAAD;AAHV,KAAD;AAFwG,GAAD,CAAzH;AAAA;AASA;AACA;AACA;;;AAEA,SAAS3B,kBAAT,EAA6B2B,mBAA7B,EAAkDqB,gBAAlD,EAAoE/C,iBAApE","sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, PLATFORM_ID, Injectable, Inject, Optional, Component, ChangeDetectionStrategy, ViewEncapsulation, Input, NgModule } from '@angular/core';\nimport * as i2 from '@angular/common';\nimport { isPlatformBrowser, CommonModule } from '@angular/common';\nimport { Subject, of, timer, combineLatest, Observable } from 'rxjs';\nimport { take, map, tap, startWith, switchMap, shareReplay } from 'rxjs/operators';\n\nclass LoadingBarState {\n    constructor(config = {}) {\n        this.config = config;\n        this.state = {\n            action: null,\n            value: 0,\n            initialValue: 0,\n        };\n        this.requests = null;\n        this.disabled = false;\n        this.stream$ = new Subject();\n        this._value$ = null;\n        this.timer$ = (s) => {\n            let state$ = of(s);\n            switch (s.action) {\n                case 'start':\n                case 'increment':\n                case 'set': {\n                    if (s.action === 'start' && this.config.latencyThreshold === 0 && s.value === 0) {\n                        s.value = s.initialValue;\n                    }\n                    if (this.requests > 0) {\n                        state$ = timer(this.config.latencyThreshold, 250).pipe(map((t) => (Object.assign(Object.assign({}, s), { value: t === 0 ? this.state.value || s.initialValue : this._increment() }))));\n                    }\n                    break;\n                }\n                case 'complete':\n                case 'stop': {\n                    // Attempt to aggregate any start/complete calls within 500ms:\n                    state$ =\n                        s.value === 0\n                            ? of(Object.assign({}, s))\n                            : timer(0, 500).pipe(take(2), map((t) => ({ value: t === 0 ? 100 : 0 })));\n                    break;\n                }\n            }\n            return state$.pipe(map((next) => (Object.assign(Object.assign({}, next), { action: 'set' }))), tap((next) => this.next(next, false)));\n        };\n        this.config = Object.assign({ latencyThreshold: 0 }, config);\n    }\n    get value$() {\n        if (this._value$) {\n            return this._value$;\n        }\n        return (this._value$ = this.stream$.pipe(startWith(this.state), switchMap((s) => this.timer$(s)), shareReplay(), map((s) => s.value)));\n    }\n    start(initialValue = 2) {\n        if (this.disabled) {\n            return;\n        }\n        this.next({ action: 'start', initialValue });\n    }\n    stop() {\n        this.next({ action: 'stop' });\n    }\n    complete() {\n        this.next({ action: 'complete' });\n    }\n    disable() {\n        this.disabled = true;\n    }\n    set(value) {\n        this.next({ action: 'set', value });\n    }\n    increment(value = 0) {\n        this.next({ action: 'increment', value });\n    }\n    next(state, emitEvent = true) {\n        switch (state.action) {\n            case 'start':\n                this.requests = (this.requests || 0) + 1;\n                break;\n            case 'complete':\n                this.requests = (this.requests || 1) - 1;\n                if (this.requests > 0) {\n                    return;\n                }\n                break;\n            case 'stop':\n                this.requests = 0;\n                break;\n            case 'increment':\n                state.value = this._increment(state.value);\n                break;\n        }\n        this.state = Object.assign(Object.assign(Object.assign({}, this.state), { action: null }), state);\n        if (emitEvent) {\n            this.stream$.next(this.state);\n        }\n    }\n    _increment(rnd = 0) {\n        const stat = this.state.value;\n        if (stat >= 99) {\n            rnd = 0;\n        }\n        if (rnd === 0) {\n            if (stat >= 0 && stat < 25) {\n                // Start out between 3 - 6% increments\n                rnd = Math.random() * (5 - 3 + 1) + 3;\n            }\n            else if (stat >= 25 && stat < 65) {\n                // increment between 0 - 3%\n                rnd = Math.random() * 3;\n            }\n            else if (stat >= 65 && stat < 90) {\n                // increment between 0 - 2%\n                rnd = Math.random() * 2;\n            }\n            else if (stat >= 90 && stat < 99) {\n                // finally, increment it .5 %\n                rnd = 0.5;\n            }\n            else {\n                // after 99%, don't increment:\n                rnd = 0;\n            }\n        }\n        return rnd + stat;\n    }\n}\n\nconst LOADING_BAR_CONFIG = new InjectionToken('LOADING_BAR_CONFIG');\n\nclass LoadingBarService {\n    constructor(platformId, config = {}, zone) {\n        this.platformId = platformId;\n        this.config = config;\n        this.zone = zone;\n        this.refs = {};\n        this.streams$ = new Subject();\n        this.value$ = this.streams$.pipe(startWith(null), switchMap(() => combineLatest(Object.keys(this.refs).map((s) => this.refs[s].value$))), runInZone(this.zone), map((v) => Math.max(0, ...v)));\n    }\n    /** @deprecated use `value$` instead. */\n    get progress$() {\n        return this.value$;\n    }\n    /** @deprecated use `useRef` instead. */\n    start(initialValue = 2) {\n        this.useRef().start(initialValue);\n    }\n    /** @deprecated use `useRef` instead. */\n    set(value) {\n        this.useRef().set(value);\n    }\n    /** @deprecated use `useRef` instead. */\n    increment(value) {\n        this.useRef().increment(value);\n    }\n    /** @deprecated use `useRef` instead. */\n    complete() {\n        this.useRef().complete();\n    }\n    /** @deprecated use `useRef` instead. */\n    stop() {\n        this.useRef().stop();\n    }\n    useRef(id = 'default') {\n        if (!this.refs[id]) {\n            this.refs[id] = new LoadingBarState(this.config);\n            this.streams$.next();\n            if (!isPlatformBrowser(this.platformId)) {\n                this.refs[id].disable();\n            }\n        }\n        return this.refs[id];\n    }\n}\nLoadingBarService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarService, deps: [{ token: PLATFORM_ID }, { token: LOADING_BAR_CONFIG, optional: true }, { token: i0.NgZone, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nLoadingBarService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarService, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () {\n        return [{ type: Object, decorators: [{\n                        type: Inject,\n                        args: [PLATFORM_ID]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [LOADING_BAR_CONFIG]\n                    }] }, { type: i0.NgZone, decorators: [{\n                        type: Optional\n                    }] }];\n    } });\n// https://stackoverflow.com/a/57452361/1406096\nfunction runInZone(zone) {\n    if (!zone) {\n        return (source) => source;\n    }\n    return (source) => new Observable((observer) => source.subscribe((value) => zone.run(() => observer.next(value)), (e) => zone.run(() => observer.error(e)), () => zone.run(() => observer.complete())));\n}\n\nclass LoadingBarComponent {\n    constructor(loader) {\n        this.loader = loader;\n        this.includeSpinner = true;\n        this.includeBar = true;\n        this.fixed = true;\n        this.color = '#29d';\n    }\n    get value$() {\n        return this.ref ? this.loader.useRef(this.ref).value$ : this.loader.value$;\n    }\n}\nLoadingBarComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarComponent, deps: [{ token: LoadingBarService }], target: i0.ɵɵFactoryTarget.Component });\nLoadingBarComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.1.1\", type: LoadingBarComponent, selector: \"ngx-loading-bar\", inputs: { includeSpinner: \"includeSpinner\", includeBar: \"includeBar\", fixed: \"fixed\", color: \"color\", value: \"value\", ref: \"ref\", height: \"height\", diameter: \"diameter\" }, host: { properties: { \"attr.fixed\": \"fixed\", \"style.color\": \"color\" } }, ngImport: i0, template: `\n    <ng-container *ngIf=\"value != null ? value : (value$ | async) as progress\">\n      <div *ngIf=\"includeSpinner\" class=\"ngx-spinner\">\n        <div [style.width]=\"diameter\" [style.height]=\"diameter\" class=\"ngx-spinner-icon\"></div>\n      </div>\n      <div\n        *ngIf=\"includeBar\"\n        class=\"ngx-bar\"\n        [style.background]=\"color\"\n        [style.height]=\"height\"\n        [style.width]=\"progress + '%'\"\n      ></div>\n    </ng-container>\n  `, isInline: true, styles: [\":host{position:relative;display:block;pointer-events:none}:host .ngx-spinner{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}:host .ngx-spinner .ngx-spinner-icon{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:loading-bar-spinner .4s linear infinite;animation:loading-bar-spinner .4s linear infinite}:host .ngx-bar{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl] :host .ngx-bar{right:0;left:unset}:host[fixed=true]{z-index:10002}:host[fixed=true] .ngx-bar{position:fixed}:host[fixed=true] .ngx-spinner{position:fixed;top:10px;left:10px}[dir=rtl] :host[fixed=true] .ngx-spinner{right:10px;left:unset}@-webkit-keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\\n\"], directives: [{ type: i2.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i2.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'ngx-loading-bar', template: `\n    <ng-container *ngIf=\"value != null ? value : (value$ | async) as progress\">\n      <div *ngIf=\"includeSpinner\" class=\"ngx-spinner\">\n        <div [style.width]=\"diameter\" [style.height]=\"diameter\" class=\"ngx-spinner-icon\"></div>\n      </div>\n      <div\n        *ngIf=\"includeBar\"\n        class=\"ngx-bar\"\n        [style.background]=\"color\"\n        [style.height]=\"height\"\n        [style.width]=\"progress + '%'\"\n      ></div>\n    </ng-container>\n  `, preserveWhitespaces: false, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.Emulated, host: {\n                        '[attr.fixed]': 'fixed',\n                        '[style.color]': 'color',\n                    }, styles: [\":host{position:relative;display:block;pointer-events:none}:host .ngx-spinner{transition:.35s linear all;display:block;position:absolute;top:5px;left:0px}:host .ngx-spinner .ngx-spinner-icon{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;-webkit-animation:loading-bar-spinner .4s linear infinite;animation:loading-bar-spinner .4s linear infinite}:host .ngx-bar{transition:width .35s;position:absolute;top:0;left:0;width:100%;height:2px;border-bottom-right-radius:1px;border-top-right-radius:1px}[dir=rtl] :host .ngx-bar{right:0;left:unset}:host[fixed=true]{z-index:10002}:host[fixed=true] .ngx-bar{position:fixed}:host[fixed=true] .ngx-spinner{position:fixed;top:10px;left:10px}[dir=rtl] :host[fixed=true] .ngx-spinner{right:10px;left:unset}@-webkit-keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\\n\"] }]\n        }], ctorParameters: function () { return [{ type: LoadingBarService }]; }, propDecorators: { includeSpinner: [{\n                type: Input\n            }], includeBar: [{\n                type: Input\n            }], fixed: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], ref: [{\n                type: Input\n            }], height: [{\n                type: Input\n            }], diameter: [{\n                type: Input\n            }] } });\n\nclass LoadingBarModule {\n}\nLoadingBarModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nLoadingBarModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarModule, declarations: [LoadingBarComponent], imports: [CommonModule], exports: [LoadingBarComponent] });\nLoadingBarModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.1.1\", ngImport: i0, type: LoadingBarModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    declarations: [LoadingBarComponent],\n                    exports: [LoadingBarComponent],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { LOADING_BAR_CONFIG, LoadingBarComponent, LoadingBarModule, LoadingBarService };\n"]},"metadata":{},"sourceType":"module"}