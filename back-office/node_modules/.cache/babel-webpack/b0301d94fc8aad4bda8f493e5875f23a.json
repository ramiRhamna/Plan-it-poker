{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mss/Desktop/FinalPFE/Graduartion/back-office/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport Swal from 'sweetalert2';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/_services/account.service\";\nimport * as i2 from \"src/app/_services/role.service\";\nimport * as i3 from \"src/app/shared/notification.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/dialog\";\nimport * as i7 from \"@angular/material/toolbar\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@angular/material/grid-list\";\nimport * as i12 from \"@angular/material/divider\";\n\nfunction AccountEditComponent_option_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const role_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", role_r2.id);\n    i0.ɵɵattribute(\"selected\", ctx_r0.selectedRoleID == role_r2.id ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", role_r2.name, \" \");\n  }\n}\n\nfunction AccountEditComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const group_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", group_r3.id);\n    i0.ɵɵattribute(\"selected\", ctx_r1.data.groupId == group_r3.id ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", group_r3.name, \" \");\n  }\n}\n/* import { FormArray } from '@angular/forms'; */\n\n\nexport class AccountEditComponent {\n  constructor(Accountservice, roleService, notificationService, route, router, _location, dialogRef, data) {\n    this.Accountservice = Accountservice;\n    this.roleService = roleService;\n    this.notificationService = notificationService;\n    this.route = route;\n    this.router = router;\n    this._location = _location;\n    this.dialogRef = dialogRef;\n    this.data = data; //semah\n\n    this.roleSelected = null;\n    this.account = [];\n    this.roleservices = [];\n    this.subscriptions = [];\n    this.datasource = new MatTableDataSource(this.account);\n    this.groups = null;\n    this.selectedRoleID = 0;\n  }\n\n  ngOnInit() {\n    this.fetchFirstRoleID();\n    this.getAll();\n    this.getRoles(); //this.getEntreprises();\n\n    this.getGroups();\n  } //semah\n\n\n  fetchFirstRoleID() {\n    this.selectedRoleID = JSON.parse(this.data.roles)[0].id;\n    console.log('fetchFirst role =>', this.selectedRoleID);\n  }\n\n  getAll() {\n    this.Accountservice.all().subscribe(response => {\n      this.datasource.data = response;\n    });\n  }\n\n  getGroups() {\n    this.Accountservice.getallGroupe().subscribe(response => {\n      this.groups = response;\n    });\n    console.log('groups = ' + this.groups);\n  } // getEntreprises() {\n  //   this.Accountservice.entreprises().subscribe((response: any) => {\n  //     this.entreprises = response;\n  //   });\n  //   console.log('entreprises = ' + this.entreprises);\n  // }\n\n\n  onClear() {\n    this.Accountservice.form.reset();\n    this.Accountservice.initializeFormGroup();\n  }\n  /*\r\n  checkCheckBoxvalue(event: any) {\r\n    const checkArray: FormArray = this.Accountservice.form.get(\r\n      'rolesArray'\r\n    ) as FormArray;\r\n    if (event.target.checked) {\r\n      checkArray.push(new FormControl(event.target.value));\r\n    } else {\r\n      let i: number = 0;\r\n      checkArray.controls.forEach((item: any) => {\r\n        if (item.value == event.target.value) {\r\n          console.log('item.value====>', item.value);\r\n          checkArray.removeAt(i);\r\n          this.Accountservice.form.value.rolesArray = checkArray;\r\n          return;\r\n        }\r\n        i++;\r\n      });\r\n    }\r\n  }*/\n\n\n  onChangeRole(event) {\n    this.selectedRoleID = event.target.value;\n    console.log('test on change role =>', event.target.value);\n  }\n\n  onSubmit() {\n    var _a;\n\n    if (this.Accountservice.form.valid) {\n      if (!((_a = this.Accountservice.form.get('id')) === null || _a === void 0 ? void 0 : _a.value)) {\n        this.Accountservice.update(this.Accountservice.form.value).subscribe(res => {\n          this.notificationService.success(':: Submitted successfully');\n        });\n      } else {\n        if (this.Accountservice.form.value.groupId && this.data.groupId != this.Accountservice.form.value.groupId) {\n          this.Accountservice.assignGroup(this.Accountservice.form.value.groupId, this.data.id).subscribe(res => {\n            this.notificationService.success(':: group Assigned successfully'), error => {\n              console.log('errr =>', error);\n            };\n          });\n        } // this.Accountservice.update(this.Accountservice.form.value).subscribe(\n        //   () => {\n        //     this.notificationService.success(':: Submitted successfully');\n        //   }\n        // );\n        //semah\n\n      }\n\n      if (Number(this.selectedRoleID) != Number(JSON.parse(this.data.roles)[0].id)) {\n        this.Accountservice.changeRole(this.data.id, this.selectedRoleID).subscribe(res => {\n          console.log('test ', res);\n          this.notificationService.success(':: Role updated successfully'), error => {\n            console.log('errr =>', error);\n          };\n        });\n      }\n\n      this.onClose();\n    }\n\n    this.refresh();\n  }\n  /**********\r\n   * Get Role\r\n   */\n\n\n  getRoles() {\n    this.subscriptions.push(this.roleService.getRoles().subscribe(response => {\n      this.roleservices = response;\n    }, errorResponse => {\n      console.log(errorResponse.message);\n    }));\n  } //on fetch role of selected account\n\n\n  fetchRolePerAccount(idAccoun, allRoles) {\n    allRoles.forEach(role => {});\n  }\n\n  OnupdateUserRole(acc) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.Accountservice.updateAccount(acc).then( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (cc) {\n          yield _this.router.navigate(['/account']);\n          console.log(cc);\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(), error => {\n        alert(error.message);\n      });\n    })();\n  } //refrech\n\n\n  refresh() {\n    this.router.navigateByUrl('/refresh', {\n      skipLocationChange: true\n    }).then(() => {\n      console.log(decodeURI(this._location.path()));\n      this.router.navigate([decodeURI(this._location.path())]);\n    });\n  } //close matdialog\n\n\n  onClose() {\n    this.Accountservice.form.reset();\n    this.Accountservice.initializeFormGroup();\n    this.dialogRef.close();\n  } //alerte de confirmation\n\n\n  alertConfirmation() {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'This process is irreversible.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, go ahead.',\n      cancelButtonText: 'No, let me think'\n    }).then(result => {\n      if (result.value) {\n        Swal.fire('Updated!', 'Company updated successfully.', 'success');\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        Swal.fire('Cancelled');\n      }\n    });\n  }\n\n}\n\nAccountEditComponent.ɵfac = function AccountEditComponent_Factory(t) {\n  return new (t || AccountEditComponent)(i0.ɵɵdirectiveInject(i1.Accountservice), i0.ɵɵdirectiveInject(i2.RoleService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.Location), i0.ɵɵdirectiveInject(i6.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA));\n};\n\nAccountEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AccountEditComponent,\n  selectors: [[\"app-account-edit\"]],\n  decls: 36,\n  vars: 5,\n  consts: [[1, \"fill-remaining-space\"], [\"mat-stroked-button\", \"\", \"tabIndex\", \"-1\", 1, \"btn-dialog-close\", 3, \"click\"], [1, \"normal-form\", 3, \"formGroup\", \"submit\"], [\"cols\", \"1\", \"rowHeight\", \"220px\"], [1, \"controles-container\"], [\"for\", \"\"], [\"name\", \"roles\", \"id\", \"roles-select\", 1, \"form-control\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"groups\", \"id\", \"groups-select\", 1, \"form-control\"], [1, \"container\"], [1, \"button-row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\"], [3, \"value\"]],\n  template: function AccountEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-toolbar\");\n      i0.ɵɵelementStart(1, \"span\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"span\", 0);\n      i0.ɵɵelementStart(4, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function AccountEditComponent_Template_button_click_4_listener() {\n        return ctx.onClose();\n      });\n      i0.ɵɵelementStart(5, \"mat-icon\");\n      i0.ɵɵtext(6, \"clear\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 2);\n      i0.ɵɵlistener(\"submit\", function AccountEditComponent_Template_form_submit_7_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(8, \"mat-grid-list\", 3);\n      i0.ɵɵelementStart(9, \"mat-grid-tile\");\n      i0.ɵɵelementStart(10, \"div\", 4);\n      i0.ɵɵelementStart(11, \"div\");\n      i0.ɵɵelementStart(12, \"label\", 5);\n      i0.ɵɵtext(13, \" Update Role\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"br\");\n      i0.ɵɵelementStart(15, \"select\", 6);\n      i0.ɵɵlistener(\"change\", function AccountEditComponent_Template_select_change_15_listener($event) {\n        return ctx.onChangeRole($event);\n      });\n      i0.ɵɵtemplate(16, AccountEditComponent_option_16_Template, 2, 3, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"br\");\n      i0.ɵɵelement(18, \"br\");\n      i0.ɵɵelement(19, \"mat-divider\");\n      i0.ɵɵelement(20, \"br\");\n      i0.ɵɵelementStart(21, \"label\", 5);\n      i0.ɵɵtext(22, \" Assign Group\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(23, \"br\");\n      i0.ɵɵelementStart(24, \"select\", 8);\n      i0.ɵɵtemplate(25, AccountEditComponent_option_25_Template, 2, 3, \"option\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 9);\n      i0.ɵɵelementStart(27, \"div\", 10);\n      i0.ɵɵelementStart(28, \"button\", 11);\n      i0.ɵɵelementStart(29, \"mat-icon\");\n      i0.ɵɵtext(30, \"save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(31, \" Save \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 12);\n      i0.ɵɵelementStart(33, \"mat-icon\");\n      i0.ɵɵtext(34, \"close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.Accountservice.form.controls[\"id\"].value ? \"Modify Role\" : \"New Account\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.Accountservice.form);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.roleservices);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngForOf\", ctx.groups);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", ctx.Accountservice.form.invalid);\n    }\n  },\n  directives: [i7.MatToolbar, i8.MatButton, i9.MatIcon, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.FormGroupDirective, i11.MatGridList, i11.MatGridTile, i5.NgForOf, i12.MatDivider, i6.MatDialogClose, i10.NgSelectOption, i10.ɵNgSelectMultipleOption],\n  styles: [\".form-control[_ngcontent-%COMP%]:focus {\\r\\n    box-shadow: none;\\r\\n    border-color: #446DCA;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQtZWRpdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLHFCQUFxQjtFQUN2QiIsImZpbGUiOiJhY2NvdW50LWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIGJvcmRlci1jb2xvcjogIzQ0NkRDQTtcclxuICB9XHJcblxyXG4gICJdfQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/mss/Desktop/FinalPFE/Graduartion/back-office/src/app/account/account-edit/account-edit.component.ts"],"names":["MatTableDataSource","Swal","MAT_DIALOG_DATA","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","AccountEditComponent_option_16_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","role_r2","$implicit","ctx_r0","ɵɵnextContext","ɵɵproperty","id","ɵɵattribute","selectedRoleID","ɵɵadvance","ɵɵtextInterpolate1","name","AccountEditComponent_option_25_Template","group_r3","ctx_r1","data","groupId","AccountEditComponent","constructor","Accountservice","roleService","notificationService","route","router","_location","dialogRef","roleSelected","account","roleservices","subscriptions","datasource","groups","ngOnInit","fetchFirstRoleID","getAll","getRoles","getGroups","JSON","parse","roles","console","log","all","subscribe","response","getallGroupe","onClear","form","reset","initializeFormGroup","onChangeRole","event","target","value","onSubmit","_a","valid","get","update","res","success","assignGroup","error","Number","changeRole","onClose","refresh","push","errorResponse","message","fetchRolePerAccount","idAccoun","allRoles","forEach","role","OnupdateUserRole","acc","updateAccount","then","cc","navigate","alert","navigateByUrl","skipLocationChange","decodeURI","path","close","alertConfirmation","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","result","dismiss","DismissReason","cancel","ɵfac","AccountEditComponent_Factory","t","ɵɵdirectiveInject","RoleService","NotificationService","ActivatedRoute","Router","Location","MatDialogRef","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AccountEditComponent_Template","ɵɵelement","ɵɵlistener","AccountEditComponent_Template_button_click_4_listener","AccountEditComponent_Template_form_submit_7_listener","AccountEditComponent_Template_select_change_15_listener","$event","ɵɵtemplate","ɵɵtextInterpolate","controls","invalid","directives","MatToolbar","MatButton","MatIcon","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatGridList","MatGridTile","NgForOf","MatDivider","MatDialogClose","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":"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","sourcesContent":["import { MatTableDataSource } from '@angular/material/table';\r\nimport Swal from 'sweetalert2';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/_services/account.service\";\r\nimport * as i2 from \"src/app/_services/role.service\";\r\nimport * as i3 from \"src/app/shared/notification.service\";\r\nimport * as i4 from \"@angular/router\";\r\nimport * as i5 from \"@angular/common\";\r\nimport * as i6 from \"@angular/material/dialog\";\r\nimport * as i7 from \"@angular/material/toolbar\";\r\nimport * as i8 from \"@angular/material/button\";\r\nimport * as i9 from \"@angular/material/icon\";\r\nimport * as i10 from \"@angular/forms\";\r\nimport * as i11 from \"@angular/material/grid-list\";\r\nimport * as i12 from \"@angular/material/divider\";\r\nfunction AccountEditComponent_option_16_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 13);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const role_r2 = ctx.$implicit;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"value\", role_r2.id);\r\n    i0.ɵɵattribute(\"selected\", ctx_r0.selectedRoleID == role_r2.id ? true : null);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", role_r2.name, \" \");\r\n} }\r\nfunction AccountEditComponent_option_25_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"option\", 13);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const group_r3 = ctx.$implicit;\r\n    const ctx_r1 = i0.ɵɵnextContext();\r\n    i0.ɵɵproperty(\"value\", group_r3.id);\r\n    i0.ɵɵattribute(\"selected\", ctx_r1.data.groupId == group_r3.id ? true : null);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", group_r3.name, \" \");\r\n} }\r\n/* import { FormArray } from '@angular/forms'; */\r\nexport class AccountEditComponent {\r\n    constructor(Accountservice, roleService, notificationService, route, router, _location, dialogRef, data) {\r\n        this.Accountservice = Accountservice;\r\n        this.roleService = roleService;\r\n        this.notificationService = notificationService;\r\n        this.route = route;\r\n        this.router = router;\r\n        this._location = _location;\r\n        this.dialogRef = dialogRef;\r\n        this.data = data;\r\n        //semah\r\n        this.roleSelected = null;\r\n        this.account = [];\r\n        this.roleservices = [];\r\n        this.subscriptions = [];\r\n        this.datasource = new MatTableDataSource(this.account);\r\n        this.groups = null;\r\n        this.selectedRoleID = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.fetchFirstRoleID();\r\n        this.getAll();\r\n        this.getRoles();\r\n        //this.getEntreprises();\r\n        this.getGroups();\r\n    }\r\n    //semah\r\n    fetchFirstRoleID() {\r\n        this.selectedRoleID = JSON.parse(this.data.roles)[0].id;\r\n        console.log('fetchFirst role =>', this.selectedRoleID);\r\n    }\r\n    getAll() {\r\n        this.Accountservice.all().subscribe((response) => {\r\n            this.datasource.data = response;\r\n        });\r\n    }\r\n    getGroups() {\r\n        this.Accountservice.getallGroupe().subscribe((response) => {\r\n            this.groups = response;\r\n        });\r\n        console.log('groups = ' + this.groups);\r\n    }\r\n    // getEntreprises() {\r\n    //   this.Accountservice.entreprises().subscribe((response: any) => {\r\n    //     this.entreprises = response;\r\n    //   });\r\n    //   console.log('entreprises = ' + this.entreprises);\r\n    // }\r\n    onClear() {\r\n        this.Accountservice.form.reset();\r\n        this.Accountservice.initializeFormGroup();\r\n    }\r\n    /*\r\n    checkCheckBoxvalue(event: any) {\r\n      const checkArray: FormArray = this.Accountservice.form.get(\r\n        'rolesArray'\r\n      ) as FormArray;\r\n      if (event.target.checked) {\r\n        checkArray.push(new FormControl(event.target.value));\r\n      } else {\r\n        let i: number = 0;\r\n        checkArray.controls.forEach((item: any) => {\r\n          if (item.value == event.target.value) {\r\n            console.log('item.value====>', item.value);\r\n            checkArray.removeAt(i);\r\n            this.Accountservice.form.value.rolesArray = checkArray;\r\n            return;\r\n          }\r\n          i++;\r\n        });\r\n      }\r\n    }*/\r\n    onChangeRole(event) {\r\n        this.selectedRoleID = event.target.value;\r\n        console.log('test on change role =>', event.target.value);\r\n    }\r\n    onSubmit() {\r\n        var _a;\r\n        if (this.Accountservice.form.valid) {\r\n            if (!((_a = this.Accountservice.form.get('id')) === null || _a === void 0 ? void 0 : _a.value)) {\r\n                this.Accountservice.update(this.Accountservice.form.value).subscribe((res) => {\r\n                    this.notificationService.success(':: Submitted successfully');\r\n                });\r\n            }\r\n            else {\r\n                if (this.Accountservice.form.value.groupId &&\r\n                    this.data.groupId != this.Accountservice.form.value.groupId) {\r\n                    this.Accountservice.assignGroup(this.Accountservice.form.value.groupId, this.data.id).subscribe((res) => {\r\n                        this.notificationService.success(':: group Assigned successfully'),\r\n                            (error) => {\r\n                                console.log('errr =>', error);\r\n                            };\r\n                    });\r\n                }\r\n                // this.Accountservice.update(this.Accountservice.form.value).subscribe(\r\n                //   () => {\r\n                //     this.notificationService.success(':: Submitted successfully');\r\n                //   }\r\n                // );\r\n                //semah\r\n            }\r\n            if (Number(this.selectedRoleID) != Number(JSON.parse(this.data.roles)[0].id)) {\r\n                this.Accountservice.changeRole(this.data.id, this.selectedRoleID).subscribe((res) => {\r\n                    console.log('test ', res);\r\n                    this.notificationService.success(':: Role updated successfully'),\r\n                        (error) => {\r\n                            console.log('errr =>', error);\r\n                        };\r\n                });\r\n            }\r\n            this.onClose();\r\n        }\r\n        this.refresh();\r\n    }\r\n    /**********\r\n     * Get Role\r\n     */\r\n    getRoles() {\r\n        this.subscriptions.push(this.roleService.getRoles().subscribe((response) => {\r\n            this.roleservices = response;\r\n        }, (errorResponse) => {\r\n            console.log(errorResponse.message);\r\n        }));\r\n    }\r\n    //on fetch role of selected account\r\n    fetchRolePerAccount(idAccoun, allRoles) {\r\n        allRoles.forEach((role) => { });\r\n    }\r\n    async OnupdateUserRole(acc) {\r\n        await this.Accountservice.updateAccount(acc).then(async (cc) => {\r\n            await this.router.navigate(['/account']);\r\n            console.log(cc);\r\n        }, (error) => {\r\n            alert(error.message);\r\n        });\r\n    }\r\n    //refrech\r\n    refresh() {\r\n        this.router\r\n            .navigateByUrl('/refresh', { skipLocationChange: true })\r\n            .then(() => {\r\n            console.log(decodeURI(this._location.path()));\r\n            this.router.navigate([decodeURI(this._location.path())]);\r\n        });\r\n    }\r\n    //close matdialog\r\n    onClose() {\r\n        this.Accountservice.form.reset();\r\n        this.Accountservice.initializeFormGroup();\r\n        this.dialogRef.close();\r\n    }\r\n    //alerte de confirmation\r\n    alertConfirmation() {\r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: 'This process is irreversible.',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Yes, go ahead.',\r\n            cancelButtonText: 'No, let me think',\r\n        }).then((result) => {\r\n            if (result.value) {\r\n                Swal.fire('Updated!', 'Company updated successfully.', 'success');\r\n            }\r\n            else if (result.dismiss === Swal.DismissReason.cancel) {\r\n                Swal.fire('Cancelled');\r\n            }\r\n        });\r\n    }\r\n}\r\nAccountEditComponent.ɵfac = function AccountEditComponent_Factory(t) { return new (t || AccountEditComponent)(i0.ɵɵdirectiveInject(i1.Accountservice), i0.ɵɵdirectiveInject(i2.RoleService), i0.ɵɵdirectiveInject(i3.NotificationService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.Location), i0.ɵɵdirectiveInject(i6.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA)); };\r\nAccountEditComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AccountEditComponent, selectors: [[\"app-account-edit\"]], decls: 36, vars: 5, consts: [[1, \"fill-remaining-space\"], [\"mat-stroked-button\", \"\", \"tabIndex\", \"-1\", 1, \"btn-dialog-close\", 3, \"click\"], [1, \"normal-form\", 3, \"formGroup\", \"submit\"], [\"cols\", \"1\", \"rowHeight\", \"220px\"], [1, \"controles-container\"], [\"for\", \"\"], [\"name\", \"roles\", \"id\", \"roles-select\", 1, \"form-control\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"groups\", \"id\", \"groups-select\", 1, \"form-control\"], [1, \"container\"], [1, \"button-row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"mat-dialog-close\", \"\"], [3, \"value\"]], template: function AccountEditComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"mat-toolbar\");\r\n        i0.ɵɵelementStart(1, \"span\");\r\n        i0.ɵɵtext(2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(3, \"span\", 0);\r\n        i0.ɵɵelementStart(4, \"button\", 1);\r\n        i0.ɵɵlistener(\"click\", function AccountEditComponent_Template_button_click_4_listener() { return ctx.onClose(); });\r\n        i0.ɵɵelementStart(5, \"mat-icon\");\r\n        i0.ɵɵtext(6, \"clear\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"form\", 2);\r\n        i0.ɵɵlistener(\"submit\", function AccountEditComponent_Template_form_submit_7_listener() { return ctx.onSubmit(); });\r\n        i0.ɵɵelementStart(8, \"mat-grid-list\", 3);\r\n        i0.ɵɵelementStart(9, \"mat-grid-tile\");\r\n        i0.ɵɵelementStart(10, \"div\", 4);\r\n        i0.ɵɵelementStart(11, \"div\");\r\n        i0.ɵɵelementStart(12, \"label\", 5);\r\n        i0.ɵɵtext(13, \" Update Role\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(14, \"br\");\r\n        i0.ɵɵelementStart(15, \"select\", 6);\r\n        i0.ɵɵlistener(\"change\", function AccountEditComponent_Template_select_change_15_listener($event) { return ctx.onChangeRole($event); });\r\n        i0.ɵɵtemplate(16, AccountEditComponent_option_16_Template, 2, 3, \"option\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(17, \"br\");\r\n        i0.ɵɵelement(18, \"br\");\r\n        i0.ɵɵelement(19, \"mat-divider\");\r\n        i0.ɵɵelement(20, \"br\");\r\n        i0.ɵɵelementStart(21, \"label\", 5);\r\n        i0.ɵɵtext(22, \" Assign Group\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(23, \"br\");\r\n        i0.ɵɵelementStart(24, \"select\", 8);\r\n        i0.ɵɵtemplate(25, AccountEditComponent_option_25_Template, 2, 3, \"option\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"div\", 9);\r\n        i0.ɵɵelementStart(27, \"div\", 10);\r\n        i0.ɵɵelementStart(28, \"button\", 11);\r\n        i0.ɵɵelementStart(29, \"mat-icon\");\r\n        i0.ɵɵtext(30, \"save\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(31, \" Save \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(32, \"button\", 12);\r\n        i0.ɵɵelementStart(33, \"mat-icon\");\r\n        i0.ɵɵtext(34, \"close\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(35, \"Cancel\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate(ctx.Accountservice.form.controls[\"id\"].value ? \"Modify Role\" : \"New Account\");\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.Accountservice.form);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.roleservices);\r\n        i0.ɵɵadvance(9);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.groups);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"disabled\", ctx.Accountservice.form.invalid);\r\n    } }, directives: [i7.MatToolbar, i8.MatButton, i9.MatIcon, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.FormGroupDirective, i11.MatGridList, i11.MatGridTile, i5.NgForOf, i12.MatDivider, i6.MatDialogClose, i10.NgSelectOption, i10.ɵNgSelectMultipleOption], styles: [\".form-control[_ngcontent-%COMP%]:focus {\\r\\n    box-shadow: none;\\r\\n    border-color: #446DCA;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY291bnQtZWRpdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZ0JBQWdCO0lBQ2hCLHFCQUFxQjtFQUN2QiIsImZpbGUiOiJhY2NvdW50LWVkaXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3JtLWNvbnRyb2w6Zm9jdXMge1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIGJvcmRlci1jb2xvcjogIzQ0NkRDQTtcclxuICB9XHJcblxyXG4gICJdfQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}